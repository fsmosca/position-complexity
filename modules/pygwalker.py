from pygwalker.api.streamlit import StreamlitRenderer
import pandas as pd
import streamlit as st


@st.cache_resource
def get_pyg_renderer() -> StreamlitRenderer:
    df = pd.read_csv("./static/chess960_ko_2024.csv")
    df['round'] = df['round'].astype(str)

    return StreamlitRenderer(df, spec="./gw_config.json", debug=False)


@st.cache_data
def get_df():
    df = pd.read_csv("./static/chess960_ko_2024.csv")
    
    return df


VIS_SPEC = r"""{"config":[{"config":{"defaultAggregated":true,"geoms":["auto"],"coordSystem":"generic","limit":-1,"timezoneDisplayOffset":0},"encodings":{"dimensions":[{"dragId":"gw_1ut5","fid":"uid","name":"uid","basename":"uid","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_HWj6","fid":"event","name":"event","basename":"event","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_XqRf","fid":"site","name":"site","basename":"site","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw__71u","fid":"date","name":"date","basename":"date","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_mXlw","fid":"round","name":"round","basename":"round","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ORBJ","fid":"wplayer","name":"wplayer","basename":"wplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_yjL3","fid":"bplayer","name":"bplayer","basename":"bplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_XKoZ","fid":"result","name":"result","basename":"result","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_t8Ku","fid":"welo","name":"welo","basename":"welo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_rYgc","fid":"belo","name":"belo","basename":"belo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_A_gL","fid":"variant","name":"variant","basename":"variant","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_wwE-","fid":"start_fen","name":"start_fen","basename":"start_fen","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_QKnl","fid":"epd","name":"epd","basename":"epd","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_EW6e","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_q1Jp","fid":"turn","name":"turn","basename":"turn","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_BgPC","fid":"gmove","name":"gmove","basename":"gmove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_XmxT","fid":"emove","name":"emove","basename":"emove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_Xs58","fid":"wp_cnt","name":"wp_cnt","basename":"wp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_9QMB","fid":"bp_cnt","name":"bp_cnt","basename":"bp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_mea_key_fid","fid":"gw_mea_key_fid","name":"Measure names","analyticType":"dimension","semanticType":"nominal"}],"measures":[{"dragId":"gw_h6s7","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_vA19","fid":"complexity","name":"complexity","basename":"complexity","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_CpUS","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_EV6o","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_DYW_","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_a3pi","fid":"wpc_value","name":"wpc_value","basename":"wpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_qWHr","fid":"bpc_value","name":"bpc_value","basename":"bpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_Y_gy","fid":"tpc_value","name":"tpc_value","basename":"tpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_n3iz","fid":"emt_sec","name":"emt_sec","basename":"emt_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_Fd6m","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_count_fid","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}},{"dragId":"gw_mea_val_fid","fid":"gw_mea_val_fid","name":"Measure values","analyticType":"measure","semanticType":"quantitative","aggName":"sum"}],"rows":[{"dragId":"gw_yeRs","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension","sort":"ascending"}],"columns":[{"dragId":"gw_5pkB","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"mean"}],"color":[{"dragId":"gw_R-Xq","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"}],"opacity":[],"size":[],"shape":[],"radius":[],"theta":[],"longitude":[],"latitude":[],"geoId":[],"details":[],"filters":[{"dragId":"gw_iY8q","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[0,19]}}],"text":[]},"layout":{"showActions":false,"showTableSummary":false,"stack":"stack","interactiveScale":false,"zeroScale":true,"size":{"mode":"fixed","width":770,"height":399},"format":{},"geoKey":"name","resolve":{"x":false,"y":false,"color":false,"opacity":false,"shape":false,"size":false}},"visId":"gw_agkH","name":"OpeningCPLoss"},{"config":{"defaultAggregated":true,"geoms":["auto"],"coordSystem":"generic","limit":-1,"timezoneDisplayOffset":0},"encodings":{"dimensions":[{"dragId":"gw_Dlsi","fid":"uid","name":"uid","basename":"uid","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_xMfg","fid":"event","name":"event","basename":"event","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_STGe","fid":"site","name":"site","basename":"site","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_VOCQ","fid":"date","name":"date","basename":"date","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_XHGh","fid":"round","name":"round","basename":"round","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_bXh0","fid":"wplayer","name":"wplayer","basename":"wplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_atfE","fid":"bplayer","name":"bplayer","basename":"bplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_Yu9r","fid":"result","name":"result","basename":"result","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_8qGy","fid":"welo","name":"welo","basename":"welo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_UuaL","fid":"belo","name":"belo","basename":"belo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_OF1w","fid":"variant","name":"variant","basename":"variant","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_38qw","fid":"start_fen","name":"start_fen","basename":"start_fen","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_nVyF","fid":"epd","name":"epd","basename":"epd","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_h9qw","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_hzWX","fid":"turn","name":"turn","basename":"turn","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_OSvS","fid":"gmove","name":"gmove","basename":"gmove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_mJMy","fid":"emove","name":"emove","basename":"emove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ziSz","fid":"wp_cnt","name":"wp_cnt","basename":"wp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_nQg5","fid":"bp_cnt","name":"bp_cnt","basename":"bp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_mea_key_fid","fid":"gw_mea_key_fid","name":"Measure names","analyticType":"dimension","semanticType":"nominal"}],"measures":[{"dragId":"gw_PAml","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw__xAK","fid":"complexity","name":"complexity","basename":"complexity","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_eAzv","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_Dtjl","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_o5Bz","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_RzVb","fid":"wpc_value","name":"wpc_value","basename":"wpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_93Yl","fid":"bpc_value","name":"bpc_value","basename":"bpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_yQsY","fid":"tpc_value","name":"tpc_value","basename":"tpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_4gx3","fid":"emt_sec","name":"emt_sec","basename":"emt_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_e1ue","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_count_fid","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}},{"dragId":"gw_mea_val_fid","fid":"gw_mea_val_fid","name":"Measure values","analyticType":"measure","semanticType":"quantitative","aggName":"sum"}],"rows":[{"dragId":"gw_7oye","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension","sort":"ascending"}],"columns":[{"dragId":"gw_CxKg","fid":"emt_sec","name":"emt_sec","basename":"emt_sec","analyticType":"measure","semanticType":"quantitative","aggName":"mean"}],"color":[{"dragId":"gw_OmGB","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"}],"opacity":[],"size":[],"shape":[],"radius":[],"theta":[],"longitude":[],"latitude":[],"geoId":[],"details":[],"filters":[{"dragId":"gw_9ndz","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[0,19]}}],"text":[]},"layout":{"showActions":false,"showTableSummary":false,"stack":"stack","interactiveScale":false,"zeroScale":true,"size":{"mode":"fixed","width":773,"height":398},"format":{},"geoKey":"name","resolve":{"x":false,"y":false,"color":false,"opacity":false,"shape":false,"size":false}},"visId":"gw_4wgr","name":"OpeningMoveTime"},{"config":{"defaultAggregated":true,"geoms":["auto"],"coordSystem":"generic","limit":-1,"timezoneDisplayOffset":0},"encodings":{"dimensions":[{"dragId":"gw_3GXt","fid":"uid","name":"uid","basename":"uid","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_i4R2","fid":"event","name":"event","basename":"event","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_k5PF","fid":"site","name":"site","basename":"site","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ME64","fid":"date","name":"date","basename":"date","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_TyGI","fid":"round","name":"round","basename":"round","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_jUBo","fid":"wplayer","name":"wplayer","basename":"wplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_rle8","fid":"bplayer","name":"bplayer","basename":"bplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_Niye","fid":"result","name":"result","basename":"result","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_Doe3","fid":"welo","name":"welo","basename":"welo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_BvMH","fid":"belo","name":"belo","basename":"belo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_OaRz","fid":"variant","name":"variant","basename":"variant","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_EuC8","fid":"start_fen","name":"start_fen","basename":"start_fen","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_51EL","fid":"epd","name":"epd","basename":"epd","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_1SUA","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_xh-1","fid":"turn","name":"turn","basename":"turn","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_yg16","fid":"gmove","name":"gmove","basename":"gmove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_GOmy","fid":"emove","name":"emove","basename":"emove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ITmT","fid":"wp_cnt","name":"wp_cnt","basename":"wp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_Fv9a","fid":"bp_cnt","name":"bp_cnt","basename":"bp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_mea_key_fid","fid":"gw_mea_key_fid","name":"Measure names","analyticType":"dimension","semanticType":"nominal"}],"measures":[{"dragId":"gw_0z-1","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_p6qL","fid":"complexity","name":"complexity","basename":"complexity","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_uLY0","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_MQHy","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_SDxt","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_Y5cA","fid":"wpc_value","name":"wpc_value","basename":"wpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_5G_i","fid":"bpc_value","name":"bpc_value","basename":"bpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_twNI","fid":"tpc_value","name":"tpc_value","basename":"tpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_q7pw","fid":"emt_sec","name":"emt_sec","basename":"emt_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_v-Yi","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_count_fid","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}},{"dragId":"gw_mea_val_fid","fid":"gw_mea_val_fid","name":"Measure values","analyticType":"measure","semanticType":"quantitative","aggName":"sum"}],"rows":[{"dragId":"gw_R8de","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension","sort":"ascending"}],"columns":[{"dragId":"gw_9n6l","fid":"complexity","name":"complexity","basename":"complexity","analyticType":"measure","semanticType":"quantitative","aggName":"mean"}],"color":[{"dragId":"gw_4TRS","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"}],"opacity":[],"size":[],"shape":[],"radius":[],"theta":[],"longitude":[],"latitude":[],"geoId":[],"details":[],"filters":[{"dragId":"gw_pL08","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[0,19]}}],"text":[]},"layout":{"showActions":false,"showTableSummary":false,"stack":"stack","interactiveScale":false,"zeroScale":true,"size":{"mode":"fixed","width":779,"height":399},"format":{},"geoKey":"name","resolve":{"x":false,"y":false,"color":false,"opacity":false,"shape":false,"size":false}},"visId":"gw_6Qrz","name":"PlayerComplexity"},{"config":{"defaultAggregated":true,"geoms":["auto"],"coordSystem":"generic","limit":-1,"timezoneDisplayOffset":0},"encodings":{"dimensions":[{"dragId":"gw_u9iz","fid":"uid","name":"uid","basename":"uid","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_C8fZ","fid":"event","name":"event","basename":"event","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ECkL","fid":"site","name":"site","basename":"site","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_HLk0","fid":"date","name":"date","basename":"date","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_hs2G","fid":"round","name":"round","basename":"round","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_lPgz","fid":"wplayer","name":"wplayer","basename":"wplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_KQ1s","fid":"bplayer","name":"bplayer","basename":"bplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_N9Ly","fid":"result","name":"result","basename":"result","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_TN_i","fid":"welo","name":"welo","basename":"welo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_MmSf","fid":"belo","name":"belo","basename":"belo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_HQ8H","fid":"variant","name":"variant","basename":"variant","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw__Ntx","fid":"start_fen","name":"start_fen","basename":"start_fen","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw__lut","fid":"epd","name":"epd","basename":"epd","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_4sST","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_HdKR","fid":"turn","name":"turn","basename":"turn","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_RgG-","fid":"gmove","name":"gmove","basename":"gmove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_NRjl","fid":"emove","name":"emove","basename":"emove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_kjWO","fid":"wp_cnt","name":"wp_cnt","basename":"wp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_TAOb","fid":"bp_cnt","name":"bp_cnt","basename":"bp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_mea_key_fid","fid":"gw_mea_key_fid","name":"Measure names","analyticType":"dimension","semanticType":"nominal"}],"measures":[{"dragId":"gw_UKvo","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_Cv17","fid":"complexity","name":"complexity","basename":"complexity","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_eQwo","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_P9ML","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_ejau","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_jAfZ","fid":"wpc_value","name":"wpc_value","basename":"wpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_b5aU","fid":"bpc_value","name":"bpc_value","basename":"bpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_TuiX","fid":"tpc_value","name":"tpc_value","basename":"tpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_F3j3","fid":"emt_sec","name":"emt_sec","basename":"emt_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_IFSU","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_count_fid","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}},{"dragId":"gw_mea_val_fid","fid":"gw_mea_val_fid","name":"Measure values","analyticType":"measure","semanticType":"quantitative","aggName":"sum"}],"rows":[{"dragId":"gw_2Fdc","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension","sort":"ascending"}],"columns":[{"dragId":"gw_tRdi","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"mean"}],"color":[{"dragId":"gw_Z1mn","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"}],"opacity":[],"size":[],"shape":[],"radius":[],"theta":[],"longitude":[],"latitude":[],"geoId":[],"details":[],"filters":[{"dragId":"gw_H4gi","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[70,79]}}],"text":[]},"layout":{"showActions":false,"showTableSummary":false,"stack":"stack","interactiveScale":false,"zeroScale":true,"size":{"mode":"fixed","width":774,"height":402},"format":{},"geoKey":"name","resolve":{"x":false,"y":false,"color":false,"opacity":false,"shape":false,"size":false}},"visId":"gw_XZV7","name":"TimeLeft"},{"config":{"defaultAggregated":true,"geoms":["auto"],"coordSystem":"generic","limit":-1,"timezoneDisplayOffset":0},"encodings":{"dimensions":[{"dragId":"gw_soxH","fid":"uid","name":"uid","basename":"uid","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_6UWA","fid":"event","name":"event","basename":"event","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_Coa1","fid":"site","name":"site","basename":"site","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_P2gD","fid":"date","name":"date","basename":"date","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_sKbM","fid":"round","name":"round","basename":"round","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_iiNl","fid":"wplayer","name":"wplayer","basename":"wplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_uQFC","fid":"bplayer","name":"bplayer","basename":"bplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ZJ5X","fid":"result","name":"result","basename":"result","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_srSg","fid":"welo","name":"welo","basename":"welo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_ptDr","fid":"belo","name":"belo","basename":"belo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_bRif","fid":"variant","name":"variant","basename":"variant","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_FN-v","fid":"start_fen","name":"start_fen","basename":"start_fen","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_oAlb","fid":"epd","name":"epd","basename":"epd","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_qtBA","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_USob","fid":"turn","name":"turn","basename":"turn","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_27Qh","fid":"gmove","name":"gmove","basename":"gmove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_zMzj","fid":"emove","name":"emove","basename":"emove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_YcpA","fid":"wp_cnt","name":"wp_cnt","basename":"wp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_DZg5","fid":"bp_cnt","name":"bp_cnt","basename":"bp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_mea_key_fid","fid":"gw_mea_key_fid","name":"Measure names","analyticType":"dimension","semanticType":"nominal"}],"measures":[{"dragId":"gw_2U7d","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_MI3_","fid":"complexity","name":"complexity","basename":"complexity","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_UD--","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_jaw_","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_WZUF","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_00m4","fid":"wpc_value","name":"wpc_value","basename":"wpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_PrMK","fid":"bpc_value","name":"bpc_value","basename":"bpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_Lr_Z","fid":"tpc_value","name":"tpc_value","basename":"tpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_yASW","fid":"emt_sec","name":"emt_sec","basename":"emt_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_uB6q","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_count_fid","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}},{"dragId":"gw_mea_val_fid","fid":"gw_mea_val_fid","name":"Measure values","analyticType":"measure","semanticType":"quantitative","aggName":"sum"}],"rows":[{"dragId":"gw_eT4D","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension","sort":"ascending"}],"columns":[{"dragId":"gw_hU34","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}}],"color":[{"dragId":"gw_mLEA","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"}],"opacity":[],"size":[],"shape":[],"radius":[],"theta":[],"longitude":[],"latitude":[],"geoId":[],"details":[],"filters":[{"dragId":"gw_1cDR","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[0,39]}},{"dragId":"gw_GgxR","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[-100,-51]}},{"dragId":"gw_Hedv","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[-50,50]}}],"text":[]},"layout":{"showActions":false,"showTableSummary":false,"stack":"stack","interactiveScale":false,"zeroScale":true,"size":{"mode":"fixed","width":787,"height":499},"format":{},"geoKey":"name","resolve":{"x":false,"y":false,"color":false,"opacity":false,"shape":false,"size":false}},"visId":"gw_kBeJ","name":"DubiousMoves"},{"config":{"defaultAggregated":true,"geoms":["auto"],"coordSystem":"generic","limit":-1},"encodings":{"dimensions":[{"dragId":"gw_unEz","fid":"uid","name":"uid","basename":"uid","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_SNwX","fid":"event","name":"event","basename":"event","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_aWTu","fid":"round","name":"round","basename":"round","analyticType":"dimension","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_wm9H","fid":"site","name":"site","basename":"site","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_AzJI","fid":"date","name":"date","basename":"date","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ErkD","fid":"wplayer","name":"wplayer","basename":"wplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_SIVY","fid":"bplayer","name":"bplayer","basename":"bplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_wh3N","fid":"result","name":"result","basename":"result","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ogXi","fid":"welo","name":"welo","basename":"welo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_RXcV","fid":"belo","name":"belo","basename":"belo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_iJT2","fid":"variant","name":"variant","basename":"variant","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_mEQX","fid":"start_fen","name":"start_fen","basename":"start_fen","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_-Sag","fid":"epd","name":"epd","basename":"epd","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_3qOT","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_SBTH","fid":"turn","name":"turn","basename":"turn","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_Tyey","fid":"gmove","name":"gmove","basename":"gmove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_2gdo","fid":"emove","name":"emove","basename":"emove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_KkFQ","fid":"wp_cnt","name":"wp_cnt","basename":"wp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_mmyE","fid":"bp_cnt","name":"bp_cnt","basename":"bp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_mea_key_fid","fid":"gw_mea_key_fid","name":"Measure names","analyticType":"dimension","semanticType":"nominal"}],"measures":[{"dragId":"gw_hK-h","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_XNoC","fid":"complexity","name":"complexity","basename":"complexity","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_rXbR","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_EDNB","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_ioBS","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_cfw3","fid":"wpc_value","name":"wpc_value","basename":"wpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_KScJ","fid":"bpc_value","name":"bpc_value","basename":"bpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_6Y_l","fid":"tpc_value","name":"tpc_value","basename":"tpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_vuFS","fid":"emt_sec","name":"emt_sec","basename":"emt_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_z51L","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_count_fid","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}},{"dragId":"gw_mea_val_fid","fid":"gw_mea_val_fid","name":"Measure values","analyticType":"measure","semanticType":"quantitative","aggName":"sum"}],"rows":[{"dragId":"gw_9mSQ","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension","sort":"descending"}],"columns":[{"dragId":"gw_snzf","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}}],"color":[{"dragId":"gw_99Ig","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"}],"opacity":[],"size":[],"shape":[],"radius":[],"theta":[],"longitude":[],"latitude":[],"geoId":[],"details":[],"filters":[{"dragId":"gw_lbCp","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[0,39]}},{"dragId":"gw_YF30","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[55,100]}},{"dragId":"gw_91T0","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[-50,50]}}],"text":[]},"layout":{"showActions":false,"showTableSummary":false,"stack":"stack","interactiveScale":false,"zeroScale":true,"size":{"mode":"fixed","width":766,"height":422},"format":{},"geoKey":"name","resolve":{"x":false,"y":false,"color":false,"opacity":false,"shape":false,"size":false}},"visId":"gw__BSL","name":"OverlookedSlimEdge"},{"config":{"defaultAggregated":true,"geoms":["auto"],"coordSystem":"generic","limit":-1},"encodings":{"dimensions":[{"dragId":"gw_Aq1F","fid":"uid","name":"uid","basename":"uid","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_e0_u","fid":"event","name":"event","basename":"event","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_VwzA","fid":"site","name":"site","basename":"site","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_nd9V","fid":"date","name":"date","basename":"date","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_si9L","fid":"wplayer","name":"wplayer","basename":"wplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_Ty49","fid":"bplayer","name":"bplayer","basename":"bplayer","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_ka_w","fid":"result","name":"result","basename":"result","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_FRZh","fid":"welo","name":"welo","basename":"welo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_lqeg","fid":"belo","name":"belo","basename":"belo","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_xqm5","fid":"variant","name":"variant","basename":"variant","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_7BGc","fid":"start_fen","name":"start_fen","basename":"start_fen","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_g5PN","fid":"epd","name":"epd","basename":"epd","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_Mbnl","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_1MeQ","fid":"turn","name":"turn","basename":"turn","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_JPE3","fid":"gmove","name":"gmove","basename":"gmove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_VmNb","fid":"emove","name":"emove","basename":"emove","semanticType":"nominal","analyticType":"dimension"},{"dragId":"gw_SHT2","fid":"wp_cnt","name":"wp_cnt","basename":"wp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_rCgd","fid":"bp_cnt","name":"bp_cnt","basename":"bp_cnt","semanticType":"quantitative","analyticType":"dimension"},{"dragId":"gw_mea_key_fid","fid":"gw_mea_key_fid","name":"Measure names","analyticType":"dimension","semanticType":"nominal"}],"measures":[{"dragId":"gw_vBKg","fid":"round","name":"round","basename":"round","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_99de","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_UgpO","fid":"complexity","name":"complexity","basename":"complexity","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_hPt1","fid":"gscore","name":"gscore","basename":"gscore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_tzi4","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_2teP","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_h-TF","fid":"wpc_value","name":"wpc_value","basename":"wpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_CSDD","fid":"bpc_value","name":"bpc_value","basename":"bpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_cGiZ","fid":"tpc_value","name":"tpc_value","basename":"tpc_value","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_RbHM","fid":"emt_sec","name":"emt_sec","basename":"emt_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_hHm3","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum"},{"dragId":"gw_count_fid","fid":"gw_count_fid","name":"Row count","analyticType":"measure","semanticType":"quantitative","aggName":"sum","computed":true,"expression":{"op":"one","params":[],"as":"gw_count_fid"}},{"dragId":"gw_mea_val_fid","fid":"gw_mea_val_fid","name":"Measure values","analyticType":"measure","semanticType":"quantitative","aggName":"sum"}],"rows":[{"dragId":"gw_o37v","fid":"player","name":"player","basename":"player","semanticType":"nominal","analyticType":"dimension","sort":"ascending"}],"columns":[{"dragId":"gw_rqc4","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"mean"}],"color":[{"dragId":"gw_DFNe","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"mean"}],"opacity":[],"size":[],"shape":[],"radius":[],"theta":[],"longitude":[],"latitude":[],"geoId":[],"details":[],"filters":[{"dragId":"gw_BX4F","fid":"clk_sec","name":"clk_sec","basename":"clk_sec","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[2,300]}},{"dragId":"gw_iRs_","fid":"escore","name":"escore","basename":"escore","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[-200,300]}},{"dragId":"gw_lc-f","fid":"cploss","name":"cploss","basename":"cploss","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[0,500]}},{"dragId":"gw_AkWO","fid":"ply","name":"ply","basename":"ply","analyticType":"measure","semanticType":"quantitative","aggName":"sum","rule":{"type":"range","value":[60,79]}}],"text":[]},"layout":{"showActions":false,"showTableSummary":false,"stack":"stack","interactiveScale":false,"zeroScale":true,"size":{"mode":"fixed","width":788,"height":498},"format":{},"geoKey":"name","resolve":{"x":false,"y":false,"color":false,"opacity":false,"shape":false,"size":false}},"visId":"gw_4tbg","name":"SteelNerve"}],"chart_map":{},"workflow_list":[{"workflow":[{"type":"filter","filters":[{"fid":"ply","rule":{"type":"range","value":[0,19]}}]},{"type":"view","query":[{"op":"aggregate","groupBy":["player"],"measures":[{"field":"cploss","agg":"mean","asFieldKey":"cploss_mean"}]}]}]},{"workflow":[{"type":"filter","filters":[{"fid":"ply","rule":{"type":"range","value":[0,19]}}]},{"type":"view","query":[{"op":"aggregate","groupBy":["player"],"measures":[{"field":"emt_sec","agg":"mean","asFieldKey":"emt_sec_mean"}]}]}]},{"workflow":[{"type":"filter","filters":[{"fid":"ply","rule":{"type":"range","value":[0,19]}}]},{"type":"view","query":[{"op":"aggregate","groupBy":["player"],"measures":[{"field":"complexity","agg":"mean","asFieldKey":"complexity_mean"}]}]}]},{"workflow":[{"type":"filter","filters":[{"fid":"ply","rule":{"type":"range","value":[70,79]}}]},{"type":"view","query":[{"op":"aggregate","groupBy":["player"],"measures":[{"field":"clk_sec","agg":"mean","asFieldKey":"clk_sec_mean"}]}]}]},{"workflow":[{"type":"filter","filters":[{"fid":"ply","rule":{"type":"range","value":[0,39]}},{"fid":"gscore","rule":{"type":"range","value":[-100,-51]}},{"fid":"escore","rule":{"type":"range","value":[-50,50]}}]},{"type":"transform","transform":[{"key":"gw_count_fid","expression":{"op":"one","params":[],"as":"gw_count_fid"}}]},{"type":"view","query":[{"op":"aggregate","groupBy":["player"],"measures":[{"field":"gw_count_fid","agg":"sum","asFieldKey":"gw_count_fid_sum"}]}]}]},{"workflow":[{"type":"filter","filters":[{"fid":"ply","rule":{"type":"range","value":[0,39]}},{"fid":"escore","rule":{"type":"range","value":[55,100]}},{"fid":"gscore","rule":{"type":"range","value":[-50,50]}}]},{"type":"transform","transform":[{"key":"gw_count_fid","expression":{"op":"one","params":[],"as":"gw_count_fid"}}]},{"type":"view","query":[{"op":"aggregate","groupBy":["player"],"measures":[{"field":"gw_count_fid","agg":"sum","asFieldKey":"gw_count_fid_sum"}]}]}]},{"workflow":[{"type":"filter","filters":[{"fid":"clk_sec","rule":{"type":"range","value":[2,300]}},{"fid":"escore","rule":{"type":"range","value":[-200,300]}},{"fid":"cploss","rule":{"type":"range","value":[0,500]}},{"fid":"ply","rule":{"type":"range","value":[60,79]}}]},{"type":"view","query":[{"op":"aggregate","groupBy":["player"],"measures":[{"field":"clk_sec","agg":"mean","asFieldKey":"clk_sec_mean"},{"field":"cploss","agg":"mean","asFieldKey":"cploss_mean"}]}]}]}],"version":"0.4.6"}"""


